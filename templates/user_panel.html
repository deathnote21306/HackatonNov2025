{% extends "layout.html" %}

{% block title %}User Panel{% endblock %}

{% block main %}
<div class="container">

  <h1 class="mb-3">Welcome{% if session.get('user_name') %}, {{ session['user_name'] }}{% endif %}</h1>

  <section class="mt-5">
    <h2 class="mb-2">All Appointments</h2>

    {% if appointments and appointments|length > 0 %}
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Time</th>
            <th>Type</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for a in appointments %}
            <tr>
                <td>{{ a['appt_date'] }}</td>
                <td>{{ a['appt_time'] }}</td>
                <td>{{ a['kind'] or 'Consultation' }}</td>
                <td>{{ a['status']|capitalize }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="text-muted">You have no appointments yet.</p>
    {% endif %}
  </section>

  <section class="mt-5">
    <h2>Voice Logs (optional)</h2>
    <p class="text-muted">Later, you can show transcripts from phone calls here.</p>
  </section>

</div>
{% endblock %}
